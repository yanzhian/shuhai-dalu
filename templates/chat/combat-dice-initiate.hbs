{{!-- 发起对抗聊天卡片 --}}
<div class="combat-dice-initiate-card" style="background: #0F0D1B; border: 2px solid #EBBD68; border-radius: 8px; padding: 16px; color: #EBBD68; font-family: 'Noto Sans SC', sans-serif;">

  {{!-- 顶部标题 --}}
  <div class="initiate-header" style="text-align: center; padding: 8px 0; border-bottom: 1px solid #EBBD68; margin-bottom: 12px;">
    <h3 style="margin: 0; font-size: 16px; color: #EBBD68;">
      "{{initiatorName}}"发起攻击{{#if targetName}}，并且指定目标"{{targetName}}"{{/if}}
    </h3>
  </div>

  {{!-- 内容区域：左右分栏 --}}
  <div class="initiate-content" style="display: flex; gap: 16px; align-items: flex-start;">

    {{!-- 左侧：战斗骰图标和按钮 --}}
    <div class="dice-visual" style="display: flex; flex-direction: column; gap: 12px; align-items: center;">

      {{!-- 战斗骰卡片 --}}
      <div class="dice-card" style="position: relative; width: 75px; height: 75px; border: 2px solid #EBBD68; border-radius: 6px; background: transparent; display: flex; align-items: center; justify-content: center;">
        <img src="{{diceImg}}" alt="{{diceName}}" style="width: 100%; height: 100%; object-fit: contain; padding: 4px;" />

        {{!-- 左上角费用 --}}
        <div class="dice-cost" style="position: absolute; top: -4px; left: -4px; width: 20px; height: 20px; background: #E1AA43; color: #0F0D1B; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: bold;">
          {{diceCost}}
        </div>

        {{!-- 右下角骰数 --}}
        <div class="dice-count" style="position: absolute; bottom: -4px; right: -4px; padding: 2px 6px; background: #E1AA43; color: #0F0D1B; border-radius: 4px; font-size: 11px; font-weight: bold;">
          {{diceFormula}}
        </div>
      </div>

      {{!-- 按钮区域 --}}
      <div class="action-buttons" style="display: flex; gap: 8px; width: 100%;">
        <button class="counter-btn"
                data-initiator-id="{{initiatorId}}"
                data-initiator-name="{{initiatorName}}"
                data-dice-id="{{diceId}}"
                data-dice-name="{{diceName}}"
                data-dice-formula="{{diceFormula}}"
                data-dice-img="{{diceImg}}"
                data-dice-cost="{{diceCost}}"
                data-dice-type="{{diceType}}"
                data-dice-category="{{diceCategory}}"
                data-adjustment="{{adjustment}}"
                data-target-id="{{targetId}}"
                style="flex: 1; padding: 6px 12px; background: #EBBD68; color: #0F0D1B; border: none; border-radius: 4px; font-size: 12px; font-weight: bold; cursor: pointer; transition: all 0.2s;">
          对抗
        </button>
        <button class="accept-btn"
                data-initiator-id="{{initiatorId}}"
                data-dice-formula="{{diceFormula}}"
                data-dice-roll="{{diceRoll}}"
                data-buff-bonus="{{buffBonus}}"
                data-adjustment="{{adjustment}}"
                data-dice-category="{{diceCategory}}"
                style="flex: 1; padding: 6px 12px; background: #E1AA43; color: #0F0D1B; border: none; border-radius: 4px; font-size: 12px; font-weight: bold; cursor: pointer; transition: all 0.2s;">
          承受
        </button>
      </div>
    </div>

    {{!-- 右侧：战斗骰信息 --}}
    <div class="dice-info" style="flex: 1; display: flex; flex-direction: column; gap: 8px;">

      {{!-- 第一排：名称、类型、分类 --}}
      <div class="dice-basic-info" style="display: flex; gap: 12px; font-size: 14px; color: #EBBD68;">
        <span style="font-weight: bold; color: #f3c267;">{{diceName}}</span>
        <span>{{diceType}}</span>
        <span>{{diceCategory}}</span>
      </div>

      {{!-- 效果描述 --}}
      <div class="dice-effect" style="font-size: 13px; color: #EBBD68; line-height: 1.6; padding: 8px; background: rgba(235, 189, 104, 0.1); border-radius: 4px;">
        {{diceEffect}}
      </div>
    </div>

  </div>

</div>

<style>
.combat-dice-initiate-card .counter-btn:hover {
  background: #f3c267;
  transform: translateY(-2px);
}

.combat-dice-initiate-card .accept-btn:hover {
  background: #d99a32;
  transform: translateY(-2px);
}
</style>

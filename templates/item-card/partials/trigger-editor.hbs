<div class="form-section trigger-editor">
  <h3><i class="fas fa-bolt" style="color: #4A90E2;"></i> 触发时机</h3>

  <div class="form-group">
    <label>触发类型</label>
    <select name="trigger.type">
      {{#each triggerTypes}}
        <option value="{{this.value}}" {{#if this.selected}}selected{{/if}}>
          {{this.label}}
        </option>
      {{/each}}
    </select>
  </div>

  <div class="form-group">
    <label class="checkbox-label">
      <input type="checkbox" name="trigger.passive" {{#if activity.trigger.passive}}checked{{/if}} />
      被动触发
    </label>
    <span class="help-text">勾选后将在满足条件时自动触发</span>
  </div>

  {{#if activity.trigger.passive}}
    <div class="form-group">
      <label>分类限制</label>
      <select name="trigger.category">
        <option value="" {{#unless activity.trigger.category}}selected{{/unless}}>无限制</option>
        <option value="slash" {{#if (eq activity.trigger.category 'slash')}}selected{{/if}}>斩击</option>
        <option value="pierce" {{#if (eq activity.trigger.category 'pierce')}}selected{{/if}}>突刺</option>
        <option value="blunt" {{#if (eq activity.trigger.category 'blunt')}}selected{{/if}}>打击</option>
      </select>
      <span class="help-text">被动触发只对指定攻击类型生效</span>
    </div>
  {{/if}}
</div>
